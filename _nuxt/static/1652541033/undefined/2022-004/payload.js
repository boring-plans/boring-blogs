__NUXT_JSONP__("/undefined/2022-004", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai){S.slug="2022-004";S.title="Python 引入函数中，对于全局变量的处理";S.date="2020-05-14T00:00:00.000Z";S.category=["掉落","python"];S.toc=[{id:T,depth:t,text:U},{id:D,depth:t,text:D}];S.body={type:O,children:[{type:b,tag:u,props:{id:T},children:[{type:b,tag:q,props:{href:"#preface",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:U}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"今天在搞一个"},{type:b,tag:q,props:{href:"https:\u002F\u002Fgithub.com\u002Fboring-plans\u002Fddt-sharp-shooter",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"小工具"}]},{type:a,value:"的时候，发现关于「Python 引入函数中，对于全局变量的处理」的一个知识点。"}]},{type:a,value:d},{type:b,tag:u,props:{id:D},children:[{type:b,tag:q,props:{href:"#%E4%BE%8B%E5%AD%90",ariaHidden:v,tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:D}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"直接上代码。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:V},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:W}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:P}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:" test2 "}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:X}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:Y}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:" bar_2"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"foo "}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:F}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"'xx'"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:G}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:H},children:[{type:a,value:z}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:I}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:A}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:"global"}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:Z}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:_}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:F}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:$}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:G}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:H},children:[{type:a,value:aa}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:I}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:A}]},{type:b,tag:c,props:{style:B},children:[{type:a,value:ab}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:ac}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:"if"}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:B},children:[{type:a,value:"__name__"}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:"=="}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"'__main__'"}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:":"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"    bar_2()"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:A}]},{type:b,tag:c,props:{style:B},children:[{type:a,value:ab}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:ac}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:V},{type:b,tag:h,props:{},children:[{type:a,value:C}]},{type:a,value:W}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:G}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:H},children:[{type:a,value:z}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:I}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:A}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:P}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:ad}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:X}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:Y}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:" bar_1, faz"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"    bar_1()"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"    faz()"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" 的打印输出是："}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"xxx"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"xx"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"可以看出，"},{type:b,tag:h,props:{},children:[{type:a,value:C}]},{type:a,value:" 执行 "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" 中 "},{type:b,tag:h,props:{},children:[{type:a,value:z}]},{type:a,value:" 函数的时候，所操作的“全局变量”实际是另一个变量（对于 "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" 中的 foo 而言）。"},{type:b,tag:h,props:{},children:[{type:a,value:C}]},{type:a,value:" 中，"},{type:b,tag:h,props:{},children:[{type:a,value:z}]},{type:a,value:" 函数在修改 foo 后调用了 "},{type:b,tag:h,props:{},children:[{type:a,value:aa}]},{type:a,value:" 函数，从反馈来看，foo 这个全局变量被成功修改。但在 "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" 上下文中，执行完 "},{type:b,tag:h,props:{},children:[{type:a,value:C}]},{type:a,value:" 的修改后，foo 值并未改变。有种文件层面闭包的意味。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"其实仔细想想，这样是合理的，将 "},{type:b,tag:h,props:{},children:[{type:a,value:C}]},{type:a,value:" 改成更直白的表达："}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:G}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:H},children:[{type:a,value:z}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:I}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:A}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:P}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:ad}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:Z}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:_}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:F}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:$}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"显然 "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" 中的 foo 不会因此改变，我们显然无法也不应该在自己的上下文中，去改变另一个上下文的变量。"}]}]};S.dir=Q;S.path="\u002F2022-004";S.extension=R;S.createdAt=s;S.updatedAt=s;S.categoryAlias=void 0;return {data:[{post:S}],fetch:{},mutations:[["SET_POST",S],["SET_LAST_POST",{slug:"2020-005",title:"孤蝉唱夏",date:"2020-05-21T00:00:00.000Z",category:"cheap-talk",toc:[],body:{type:O,children:[{type:b,tag:J,props:{},children:[{type:a,value:d},{type:b,tag:K,props:{},children:[]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"又知又觉，夏天又来了。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"上一个夏天的时候，拜老旧的房间所赐，右手拇指被无知的虫子伤害了，小包演化到最后，变成值得通过手术来处理的异物。医生彼时冷漠地说，这些脓都是坏死的组织，说着又以伤口为中心，划出另一个十字。坏死的组织说实话并没有什么值得怀念的，我们每天都在坏死，教人怀念的是当时交出去的五六百块钱、残阳里的栾花。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"上上个夏天，我刚经历了一场烂尾的爱情故事，所以每一天都很热、每一天都很挤、每个路人都很绝望。但奇怪的是现在回想的话，夜间全是满天星星、清晨总有艳丽的木芙蓉，虚构出来的感受全是微风凉爽，这一定是双鱼座的 bug。但后来坚定地爱一个人，甚至是一样物的精神，全然丧失了，取而代之的是越来越浓重的孤独感，这算是防御系统加强后的副作用吗？"}]},{type:a,value:d},{type:b,tag:J,props:{},children:[{type:a,value:d},{type:b,tag:K,props:{},children:[]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"到这个夏天为止，我还是没有成功坚持做任何事情。诸如坚持刷 leetcode、坚持 11 点前睡觉、坚持不参与构建微博朋友圈等虚假的平行世界、坚持晨起一杯水、坚持记账记日记，甚至坚持量体重都做不到。但这两个月倒是，坚持在 6:40 被可恶合租舍友吵醒，为此，我不得不换租，而换租则带来一大波经济、精神、时间损失，人生向来艰辛，习惯了。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"但这一切不坚持又不能简单地怪罪给懒，真正的纯净的懒是不应该有负罪感产生的。每当周末、夜晚，我重新获得时间支配权的时候，就会陷入做什么都不由得直呼“我特么在干嘛”的恐慌中（比如说现在），好似时间放哪边都合适，放哪边都浪费，宛如患了一种“未沦陷社畜自律综合症”。深究下来，这个困境的本质似乎就是“人为什么要如此艰难地保持存活状态”这个艰深、古老的哲学问题，每想到这儿，我都放下心来。"}]},{type:a,value:d},{type:b,tag:J,props:{},children:[{type:a,value:d},{type:b,tag:K,props:{},children:[]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"最近无可救药、不顾一切地循环起昨夜派对的《all about anna》，洗澡的时候循环、敲代码的时候循环、挤地铁的时候循环、拉屎的时候循环、被舍友吵醒的时候循环、想念某个人的时候循环……每当听到“void but alive”一句时，都会被深深感动，仿佛精神高潮忽至。一切都是“null，void but alive”，这个回答已经足能够糊弄程序员了。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"而今天下班前我又有缘听到椅子乐团的《日常的镜头》，慵懒、炎热的夏日感受从线控半入耳耳机完整地流到全身，地铁穿行速度因而提升了几倍。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"于是最近耳朵有点疼，艰辛啊。"}]},{type:a,value:d},{type:b,tag:J,props:{},children:[{type:a,value:d},{type:b,tag:K,props:{},children:[]},{type:a,value:d}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"夏天免不了被蚊子烦，除了是可怜的苏北人、可怜的男人、我还是可怜的 o 型血。就在前晚，在我杀死一只不知好歹的蚊子、原本嗡嗡的声响作罢后，大脑忽加载出蝉鸣，乱七八糟，热闹便是了。"}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"每天休息区里，老前辈们都会悠然自得地讨论诸如找老师当老婆最好、新家什么时候交付、取消学区房、美利坚之邪恶……的话题，也很热闹。"}]}]},dir:Q,path:"\u002F2020-005",extension:R,createdAt:s,updatedAt:s}],["SET_NEXT_POST",{slug:"2020-003",title:"Python re.sub 仅替换匹配到内容中的一部分",date:"2020-05-09T00:00:00.000Z",category:"assorted-harvest",toc:[{id:L,depth:t,text:L},{id:ae,depth:t,text:af},{id:M,depth:t,text:M}],body:{type:O,children:[{type:b,tag:u,props:{id:L},children:[{type:b,tag:q,props:{ariaHidden:v,href:"#%E9%9C%80%E6%B1%82",tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:L}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"最终实现的效果如下："}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"替换"}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:N},children:[{type:a,value:"everything is alright."}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:N},children:[]}]}]}]}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"为"}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:N},children:[{type:a,value:"everybody is alright."}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:N},children:[]}]}]}]}]},{type:a,value:d},{type:b,tag:u,props:{id:ae},children:[{type:b,tag:q,props:{ariaHidden:v,href:"#show-me-the-code",tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:af}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"实现如下："}]},{type:a,value:d},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o],style:p},children:[{type:b,tag:h,props:{},children:[{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:i},children:[{type:a,value:E}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:" re"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"src "}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:F}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:j}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"'everything is alright.'"}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[{type:b,tag:c,props:{style:e},children:[{type:a,value:"re.sub("}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"'(every).*?("}]},{type:b,tag:c,props:{style:B},children:[{type:a,value:ag}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"s.*"}]},{type:b,tag:c,props:{style:B},children:[{type:a,value:ag}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:".)'"}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:","}]},{type:b,tag:c,props:{style:i},children:[{type:a,value:"r"}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:ah}]},{type:b,tag:c,props:{style:ai},children:[{type:a,value:"\\1"}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:"body"}]},{type:b,tag:c,props:{style:ai},children:[{type:a,value:"\\2"}]},{type:b,tag:c,props:{style:k},children:[{type:a,value:ah}]},{type:b,tag:c,props:{style:e},children:[{type:a,value:",src) "}]},{type:b,tag:c,props:{style:"color: #6E7781"},children:[{type:a,value:"# everybody is alright."}]}]},{type:a,value:d},{type:b,tag:c,props:{className:[f]},children:[]}]}]}]},{type:a,value:d},{type:b,tag:u,props:{id:M},children:[{type:b,tag:q,props:{ariaHidden:v,href:"#%E5%90%8E%E8%AF%AD",tabIndex:w},children:[{type:b,tag:c,props:{className:[x,y]},children:[]}]},{type:a,value:M}]},{type:a,value:d},{type:b,tag:g,props:{},children:[{type:a,value:"就这。"}]}]},dir:Q,path:"\u002F2020-003",extension:R,createdAt:s,updatedAt:s}]]}}("text","element","span","\n","color: #24292F","line","p","code","color: #CF222E"," ","color: #0A3069","div","nuxt-content-highlight","pre","shiki","background-color: #ffffff","a","test.py","2022-05-14T15:08:31.476Z",2,"h2","true",-1,"icon","icon-link","bar","    ","color: #0550AE","test2.py","例子","import","=","def","color: #8250DF","():","ul","li","需求","后语","color: #24292f","root","from","\u002F",".md",{},"preface","Preface","文件 ","："," bar ","as"," foo","    foo ","'xxx'","faz","print","(foo)"," test ","show-me-the-code","Show Me The Code","\\\\","'","color: #116329")));